!function(e){function t(t){for(var r,a,c=t[0],f=t[1],s=t[2],p=t[3]||[],m=0,v=[];m<c.length;m++)a=c[m],o[a]&&v.push(o[a][0]),o[a]=0;for(r in f)Object.prototype.hasOwnProperty.call(f,r)&&(e[r]=f[r]);d&&d(t);var h=document.getElementsByTagName("head")[0];for(p.forEach(function(e){if(void 0===o[e]){o[e]=null;var t=document.createElement("link");i.nc&&t.setAttribute("nonce",i.nc),t.rel="prefetch",t.as="script",t.href=u(e),h.appendChild(t)}});v.length;)v.shift()();return l.push.apply(l,s||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(l.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={5:0},o={5:0},l=[];function u(e){return i.p+""+({0:"vendors~article",1:"login",2:"article",3:"saved"}[e]||e)+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[];a[e]?t.push(a[e]):0!==a[e]&&{1:1,2:1}[e]&&t.push(a[e]=new Promise(function(t,n){for(var r=({0:"vendors~article",1:"login",2:"article",3:"saved"}[e]||e)+".css",a=i.p+r,o=document.getElementsByTagName("link"),l=0;l<o.length;l++){var u=(f=o[l]).getAttribute("data-href")||f.getAttribute("href");if("stylesheet"===f.rel&&(u===r||u===a))return t()}var c=document.getElementsByTagName("style");for(l=0;l<c.length;l++){var f;if((u=(f=c[l]).getAttribute("data-href"))===r||u===a)return t()}var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",s.onload=t,s.onerror=function(t){var r=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.request=r,n(o)},s.href=a,document.getElementsByTagName("head")[0].appendChild(s)}).then(function(){a[e]=0}));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise(function(t,r){n=o[e]=[t,r]});t.push(n[2]=r);var l,c=document.getElementsByTagName("head")[0],f=document.createElement("script");f.charset="utf-8",f.timeout=120,i.nc&&f.setAttribute("nonce",i.nc),f.src=u(e),l=function(t){f.onerror=f.onload=null,clearTimeout(s);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,l=new Error("Loading chunk "+e+" failed.\n("+r+": "+a+")");l.type=r,l.request=a,n[1](l)}o[e]=void 0}};var s=setTimeout(function(){l({type:"timeout",target:f})},12e4);f.onerror=f.onload=l,c.appendChild(f)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/static/",i.oe=function(e){throw console.error(e),e};var c=window.webpackJsonp=window.webpackJsonp||[],f=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var d=f;t([[],{},0,[0,2,1,3]]),l.push([580,4]),n()}({227:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.login=function(e,t,n){o.post("login",{email:e,password:t},{"Content-Type":"application/json"}).then(function(e){200===e.status&&e.data.token&&(0,a.setToken)(e.data.token),n&&n(e.data)},function(e){n&&n(e.response.data)}).catch(function(e){console.log("Login failed: "+e)})},t.getArticles=function(e){return o.get("articles",{"Content-Type":"application/json",params:{uid:e}}).then(function(e){if(200===e.status)return{data:e.data.articles}}).catch(function(e){return{error:"Fetch articles failed: "+e}})},t.getArticleContent=function(e){return o.get("article/"+e,{"Content-Type":"text/plain"}).then(function(e){if(200===e.status)return{data:e.data.article}}).catch(function(e){return{error:"Fetch article content failed: "+e}})},t.getSavedArticles=function(e){var t=e+"/saved";return o.get(t,{"Content-Type":"application/json"}).then(function(e){if(200===e.status)return{data:e.data.saved}}).catch(function(e){return{error:"Fetch user saved articles failed: "+e}})},t.saveArticle=function(e,t,n){var r=e+"/saved";o.put(r,{articleId:t},{"Content-Type":"application/json"}).then(function(e){200===e.status&&n&&n(e.data)}).catch(function(e){console.log("Save article failed: "+e)})},t.unSaveArticle=function(e,t,n){var r=e+"/saved/"+t;o.delete(r,{"Content-Type":"application/json"}).then(function(e){200===e.status&&n&&n(e.data)}).catch(function(e){console.log("Save article failed: "+e)})};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(250)),a=n(66);var o=r.default.create({baseURL:"https://localhost:3000/api/"})},228:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(2)),a=o(n(251));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return e.items.map(function(t){return r.default.createElement(a.default,{key:t.id,id:t.id,title:t.title,author:t.author,date:t.date,imgUrl:t.imgUrl,ifSaved:t.ifSaved,onItemClick:e.onListItemClick,onSaveClick:e.onSaveClick})})}},231:function(e,t,n){},251:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(2));t.default=function(e){return r.default.createElement("div",{className:"item-container"},r.default.createElement("div",{className:"item"},r.default.createElement("div",{className:"item-clickable-area",onClick:function(){e.onItemClick(e.id)}},r.default.createElement("div",{className:"item-header"},r.default.createElement("img",{src:"/static/images/"+e.imgUrl,alt:e.title})),r.default.createElement("div",{className:"item-body"},r.default.createElement("h2",{className:"title",title:e.title},e.title))),r.default.createElement("div",{className:"item-footer"},r.default.createElement("div",{className:"info"},r.default.createElement("span",{className:"author"},e.author),r.default.createElement("span",{className:"date"},e.date)),r.default.createElement("div",{className:"actions clearfix"},r.default.createElement("i",{className:"btn-save far fa-heart "+(e.ifSaved?"saved":""),title:e.ifSaved?"Unsave article":"Save article",onClick:function(){e.onSaveClick(e.id,e.ifSaved)}})))))}},252:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(2)),o=i(n(228)),l=n(227),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(66));function i(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.redirect=function(e){n.props.history.push("/article/"+e)},n.onSaveClick=function(e,t){var r=u.checkIfAuth();r?t?(0,l.unSaveArticle)(r,e,function(e){n.updateArticleSavedStatus(e.articleId,null)}):(0,l.saveArticle)(r,e,function(e){n.updateArticleSavedStatus(e.articleId,r)}):console.log("Please log in first.")},n.updateArticleSavedStatus=function(e,t){var r=n.state.articles.map(function(n){return n.ArticleId===e&&(n.User=t),n});n._isMounted&&n.setState({articles:r})},n.state={articles:[]},n._isMounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,o){try{var l=t[a](o),u=l.value}catch(e){return void n(e)}if(!l.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}("next")})}}(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._isMounted=!0,t=u.checkIfAuth()||null,e.next=4,(0,l.getArticles)(t);case 4:n=e.sent,this._isMounted&&n.data?this.setState({articles:n.data}):n.error&&console.log(n.error);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state.articles.map(function(e){return{id:e.ArticleId,title:e.Title,author:e.Author,date:e.Date,imgUrl:e.PosterUrl,ifSaved:Boolean(e.User)}});return a.default.createElement("div",{className:"page-home"},a.default.createElement("div",{className:"container"},a.default.createElement(o.default,{items:e,onListItemClick:this.redirect,onSaveClick:this.onSaveClick})))}}]),t}();t.default=c},256:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=i(n(2)),o=n(76),l=i(n(255)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(66));function i(e){return e&&e.__esModule?e:{default:e}}var c={hide:{transition:"all 200ms ease-in-out",transform:"translateX(-100%)"},entering:{transform:"translateX(-100%)"},entered:{transform:"translateX(0)"},exiting:{transform:"translateX(-100%)"},exited:{transform:"translateX(-100%)"}};t.default=function(e){var t=u.checkIfAuth(),n=t?u.getUserFirstName():null,i=function(t){var n=t.to,r=t.className,l=t.children;return a.default.createElement(o.Link,{to:n,className:r,onClick:e.onBackgroundClick},l)};return a.default.createElement(l.default,{in:e.inProp,timeout:{enter:0,exit:500},mountOnEnter:!0,unmountOnExit:!0},function(o){return a.default.createElement("div",{className:"drawer-wrapper"},a.default.createElement("nav",{className:"drawer",style:r({},c.hide,c[o])},t?a.default.createElement("p",{className:"hello-msg"},"👋🏻",a.default.createElement("br",null),"Hello, ",a.default.createElement("span",null,n,"!")):a.default.createElement(i,{to:"/login",className:"tab tab-0"},"Login"),a.default.createElement(i,{to:"/",className:"tab tab-1"},"Home"),a.default.createElement(i,{to:"/saved",className:"tab tab-2"},"Saved"),t&&a.default.createElement(i,{className:"tab tab-0",to:"/logout"},"Logout")),a.default.createElement("div",{className:"drawer-overlay",onClick:e.onBackgroundClick}))})}},257:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(2)),o=l(n(256));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.hideDrawer=function(){n.setState({ifShowDrawer:!1})},n.showDrawer=function(){n.setState({ifShowDrawer:!0})},n.state={ifShowDrawer:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){return a.default.createElement("div",{className:"navbar-shell"},a.default.createElement("nav",{className:"navbar"},a.default.createElement("div",{className:"btn-toggle-drawer",onClick:this.showDrawer},a.default.createElement("span",null),a.default.createElement("span",null),a.default.createElement("span",null)),a.default.createElement("span",{className:"navbar-logo"},"Reader")),a.default.createElement(o.default,{inProp:this.state.ifShowDrawer,onBackgroundClick:this.hideDrawer}))}}]),t}();t.default=u},259:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(2));t.default=function(e){return r.default.createElement("div",{className:"loader-container"},r.default.createElement("div",{className:"lds-ellipsis"},r.default.createElement("div",null),r.default.createElement("div",null),r.default.createElement("div",null),r.default.createElement("div",null)))}},260:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=u(n(2)),o=u(n(259)),l=u(n(258));function u(e){return e&&e.__esModule?e:{default:e}}var i=function(e){return e.error?a.default.createElement("div",{className:"load-err-container"},a.default.createElement("p",{style:{textAlign:"center"}},"Error!")," ",a.default.createElement("button",{onClick:e.retry},"Retry")):a.default.createElement(o.default,null)};t.default=function(e){return(0,l.default)(r({loading:i,delay:300},e))}},261:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){return e&&e.__esModule?e:{default:e}}(n(2)),o=n(76),l=n(66);t.default=function(e){var t=e.component,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["component"]);return a.default.createElement(o.Route,r({},n,{render:function(e){return(0,l.checkIfAuth)()?a.default.createElement(t,e):a.default.createElement("div",{className:"unauth-screen"},a.default.createElement("p",null,"Please ",a.default.createElement(o.Link,{to:"/login"},"login")," to see your saved articles."))}}))}},320:function(e,t){},321:function(e,t){},358:function(e,t){},360:function(e,t){},365:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(2)),o=n(76),l=n(66),u=s(n(261)),i=s(n(260)),c=s(n(257)),f=s(n(252));function s(e){return e&&e.__esModule?e:{default:e}}n(231);var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){return a.default.createElement(a.default.Fragment,null,a.default.createElement(c.default,null),a.default.createElement(o.Route,{exact:!0,path:"/",component:f.default}),a.default.createElement(u.default,{path:"/saved",component:(0,i.default)({loader:function(){return n.e(3).then(n.t.bind(null,583,7))}})}),a.default.createElement(o.Route,{path:"/article/:aid",component:(0,i.default)({loader:function(){return Promise.all([n.e(0),n.e(2)]).then(n.t.bind(null,582,7))}})}),a.default.createElement(o.Route,{path:"/login",component:(0,i.default)({loader:function(){return n.e(1).then(n.t.bind(null,581,7))}})}),a.default.createElement(o.Route,{path:"/logout",render:function(e){return(0,l.logout)(),a.default.createElement(o.Redirect,{to:"/"})}}))}}]),t}();t.default=d},377:function(e,t,n){"use strict";var r=u(n(2)),a=u(n(187)),o=n(76),l=u(n(365));function u(e){return e&&e.__esModule?e:{default:e}}var i=document.getElementById("app");a.default.render(r.default.createElement(o.BrowserRouter,null,r.default.createElement(l.default,null)),i)},580:function(e,t,n){n(579),e.exports=n(377)},66:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setToken=function(e){localStorage.setItem("token",e)},t.checkIfAuth=function(){var e=a();if(e)return r.default.decode(e).userId;return!1},t.getUserFirstName=function(){var e=a();return r.default.decode(e).firstName},t.logout=function(){a()&&a()&&localStorage.removeItem("token")};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(364));function a(){return localStorage.getItem("token")}}});